### BCD编码

bcd编码采用4bit的二进制码中的一部分表示十进制，常用于对精度有要求的一些计算领域
，根据使用bit数分为2种
+ 8bit 未打包的bcd编码
+ 4bit 打包的bcd编码

根据编码方式可以分为
+ 8421
+ 5421
+ 2421           镜像互补对称
+ 余3码          = 8421 + 3，对称轴位于4和5间
+ gray码/格雷码

ascii码中数字的后4bit和bcd 8421 编码相同，前4bit是0b0011
即BCD 8421码 补上 0b0011 即是ascii码
比如 数字5   bcd码是 0b 0000 0101    ascii码是53 即0b 0011 0101

#### 运算
因为bcd码空闲了6个二进制码，可能运算后的结果不在编码范围内或者溢出，故每次运算后需要进行调整。
调整的逻辑由CPU的指令实现，了解即可，但是别忘记调用。
标志寄存器中的AF标志位用于bcd进行运算后的调整

##### DAA
  压缩型BCD数加法调整指令
```
IF (AL低4位 > 9) OR (AF = 1)
THEN
  AL = AL + 6
  AF = 1
FI

IF (AL > 0x9F) OR (CF = 1)
THEN
   AL = AL + 0x60
   CF = 1
FI
```
##### DAS
  压缩型BCD数减法调整指令
```
IF (AL低4位 > 9) OR (AF = 1)
THEN
  AL = AL - 6
  AF = 1
FI
// AL > 0x9F 也就是高4位大于9
// 拿10进制类比
// 百位大于1，即整个数大于99
// 所以这里是0x9F而不是0x90
IF (AL > 0x9F) OR (CF = 1)
THEN
  AL = AL - 0x60
  cf = 1
FI
```

##### AAA
非圧缩型BCD数加法调整指令
```
IF (AL低4位 > 9) OR (AF = 1)
THEN
    AL = AL + 6;
    AH = AH + 1;
    AF = 1;
    CF = 1;
ELSE
    AF = 0;
    CF = 0;
FI;
AL = AL & 0FH;
```

##### AAS
非圧缩型BCD数减法调整指令
```
IF (AL低4位 > 9) OR (AF = 1)
THEN
  AL = AL - 6
  AH = AH - 1
  AF = 1
  CF = 1
ELSE
  AF = 0
  CF = 0
FI
```

#####  AAM
ASCII Adjust for Multiply

##### AAD
ASCII Adjust for Division

